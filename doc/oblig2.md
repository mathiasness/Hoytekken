# Rapport – innlevering 2

**Team:** _Karan med varan_ – _Sune_ – _Mathias_ – _Kristian_ – _Vetle_ – _Jonas_ – _Lauritz_

# Prosjektrapport

## 1. Roller

### 1.1. Prosjektleder

    Her har det naturlig utviklet seg til at en på gruppen har tatt en lederrolle.
    Mathias som har hatt god oversikt over hva som skal gjøres, og har hatt en god forståelse for
    hva som skal til for å få prosjektet i mål. Dette var ikke noe som ble bestem på forhånd,
    men har heller utviklet seg naturlig utover prosjektet.

### 1.2. Møteleder

    Møtelederen, Sune, som vi ble enige om i forrige innlevering har fungert bra.
    Sune har hatt god oversikt over hva som skal gjøres, og har hatt en god forståelse
    for hva som skal til for å få prosjektet i mål.

### 1.3. Trello-ansvarlig

    Jonas ble tildelt rollen som trello-ansvarlig. Dette har utviklet seg
    til en flytende rolle, der alle på gruppen benytter seg av og oppdaterer ofte på trello.
    Dette ser vi på som en suksess og en naturlig utvikling som har vært en god måte
    å holde oversikt over hva som skal gjøres, og hva som er gjort.

### 1.4. Testansvarlig

    Denne rollen var noe vi tildelte i starten til Kristian. Hittil i oppgaven
    har det ikke vært mye å teste, så denne rollen kommer til å bli mer relevant i de
    neste innleveringene. Dette er fordi de metodene i koden som burde testes,
    som hopp og flytting av spiller, kom nylig på plass i koden. Dette ser vi også
    for oss at blir en flytende rolle, der man selv skriver tester for det man selv har implementert av kode.

### 1.5 Lyd og grafikk

    Denne rollen har vært flytende i gruppa, men ble opprinnelig tildelt Lauritz.
    Det har ikke blitt lagt så mye fokus på lyd, men dette kommer senere. Grafikk
    har Vetle tatt på seg ansvaret for, og har gjort en god jobb med å lage enkle
    grafikk elementer, som å designe et level, som vi har brukt i spillet.

### 1.6 Strukturansvarlig

    Rollen ble tildelt til Vetle, men har blitt naturlig fordelt over hele gruppen.
    Alle har vært flinke til å holde seg til git-strukturen, og har vært flinke til
    å lage branches for det de jobber med. Det vi kan jobbe med fremover er å fordele
    commits/merges jevnere utover gruppen, slik at alle får en god forståelse av koden som en
    helhet. Vi må også bli flinkere på å comitte oftere.

### 1.7 Kodestilansvarlig

    Denne rollen ble tildelt til Mathias. Vi ser for oss at denne rollen blir mer
    relevant nå som ting begynner å falle på plass. Da blir det viktig å gå over
    deler av koden som kan forbedres og gjøre den mer lesbar.

## 2. Prosjektmetodikk

    Metoden vi har benyttet av oss er Kanban. Vi har brukt trello som vårt
    kanban-brett, der vi har kolonner som: Backlog, doing, review, done,
    archive og discarded. Kortene flyttes fra venstre til høyre på tavlen
    etter hvert som arbeidet skrider frem gjennom de ulike stadiene av prosessen.
    Dette gjør vi for å sikre en jevn og effektiv flyt av arbeidet gjennom prosessen.
    Ved å visualisere arbeidet og andvende WIP-grenser (work-in-progress), kan vi
    unngå overbelastning og forsinkelser. Dette har fungert veldig bra for oss,
    og vi har hatt god oversikt over hva som skal gjøres, og hva som er gjort.
    Denne metoden sørger også for at vi har god tilbakemeldingssykluser, der vi
    har regelmessig møte en gang i uken, hvor vi vurderer kanban-brettet, fremgang
    og WIP-grenser etter behov. Det har vært naturlig for prosjektet at viktige
    funksjoner for spillet har falt på plass før grundig testing og vel-dokumentert
    kode. Dette er noe vi har prioritert med vilje, da vi mener det er viktig å ha
    en fungerende prototype som vi kan revidere og forbedre senere i prosessen.

## 3. Gruppedynamikk

    I forbindelse med gjennomføringen av vårt prosjekt har gruppedynamikken vist
    seg å være en av de sterkeste sidene ved vårt teamarbeid. Effektiviteten og
    samarbeidet innad i gruppen har bidratt til en positiv og engasjerende arbeidsatmosfære,
    noe som har vært essensielt for fremdriften og moralen i prosjektet. Den positive
    stemningen i gruppen har også lagt grunnlaget for en kultur hvor det er lav terskel
    for å fremme forslag til forbedringer, kreative løsninger og innovative ideer.
    Dette har vist seg å være en verdifull ressurs for prosjektets utvikling, da
    det oppmuntrer til åpen dialog og samarbeid. Gjennom denne tilnærmingen har
    vi oppnådd en dynamisk arbeidsprosess hvor alle teammedlemmer føler seg verdsatt
    og motivert til å bidra med sitt beste.

    Samlet sett har gruppedynamikken spilt en avgjørende rolle for prosjektets
    fremgang og kvalitet. Vi anser den gode stemningen og det effektive samarbeidet
    som fundamentale faktorer for vår suksess, og vil fortsette å prioritere
    disse aspektene i videre arbeidet.

## 4. Kommunikasjon

    Under prosjektet har kommunikasjonen vært effektiv, spesielt gjennom bruk
    av Discord og Trello for å holde hverandre oppdatert. Vi har hatt regelmessige
    møter for å diskutere fremdrift og eventuelle utfordringer, og har vært flinke
    til å oppdatere hverandre på statusen til våre respektive oppgaver. Vi har også
    støtt på forbedringpunkter i kommunikasjonen, spesielt i forbindelse med
    å forklare koden vi har skrevet til de andre. For å forbedre dette, har vi
    blitt enige om å bedre dokumentasjonen og øke forståelsen gjennom
    kodegjennomgang på møtene våre. Dette vil hjelpe i å minimere forvirringer
    og misforståelser, og sikre at alle har en god forståelse av prosjektet og koden.

## 5. Retrospektiv

    I vårt retrospektiv har vi fokusert på å evaluere prosjektstrukturen
    og kommunikasjonen innad i teamet. Vi har klart å etablere en solid struktur
    gjennom bruk av Kanban og regelmessige møter, som har bidratt til en
    jevn arbeidsflyt og effektiv oppgavehåndtering. Vår evne til å holde
    alle oppdatert via Discord og Trello har vært avgjørende for denne suksessen.

    Likevel ser vi rom for forbedringer. Selv om kommunikasjonen har vært god, har vi
    identifisert et behov for klarere retningslinjer for dokumentasjon og deling av arbeidsprosesser.
    Dette vil forbedre forståelsen og effektiviteten i teamet ytterligere.

    Vi har identifisert at det har oppstått en skeiv fordeling av merge/commits til main.
    Dette skyldes en kombinasjon av at noen har jobbet mer med kode enn andre og at
    noen har vært flinkere til å comitte oftere enn andre. Mathias og Sune har vi
    blitt enige om at skulle sette seg ned å skrive grunnstukturen i koden sammen,
    og dette har ført til at de har hatt flere commits enn de andre. Dette er noe
    vi må jobbe med fremover, og vi har blitt enige om at alle skal comitte oftere,
    og at vi skal fordele arbeidet jevnere utover gruppen.

## 6. Arbeidsfordeling

    Når det kommer til arbeisfordelingen i kodebasen vår, kan fordlingen innen
    committs virke litt skjev. Man kan tydelig se at Mathias og Sune har en
    del flere committs enn resten, men dette er det også en grunn til.
    Når vi skulle komme ordentlig i gang med prosjektet, så tok Sune og
    Mathias på seg ansvaret for å lage store deler av fundamentet i kodebasen vår.
    Dette så vi på som en naturlig jobb for ingen flere enn 2 personer,
    og her ligger det mange committs.

    En annen viktig grunn til at fordelingen kan se skjev ut er rett og slett
    også fordi medlemmene i gruppa jobber og committer deres arbeid veldig forskjellig.
    Enkelte i gruppa er veldig flinke på å committe jevnlig (det er selvfølgelig dette som er optimalt),
    mens andre committer lite i forhold.
    Dette er selvfølgelig noe vi må ta med oss og rett og slett bli bedre på.

    Det skal også sies angående committs at det personer i gruppa
    som har jobbet med koden på en egen branch, gjort committs på denne
    branchen for at vi som gruppe senere ikke har hatt bruk for det som har
    blitt gjort på den aktuelle branchen. Her mister jo selvfølgelig
    også den enkelte committs som ikke vises i vårt repo.

    Parprogrammering har også blitt gjort ila. prosjektet,
    noe som også går utover committs til de involverte. Sune og Kristian har f.eks.
    parprogrammert ICombat og implmentert det i Player-klassen.

    Det som nå er veldig fint er at vi ser på det som enklere å fordele
    oppgaver ganske likt utover gruppa. Det var vanskeligere å gi ut små
    oppgaver til hver enkelt i starten før mappet og selve fundamentet til
    koden var på plass. Nå som det er ordnet kan vi fordele arbeidet på en
    bedre måte og det er lettere for alle mann å ta på seg oppgaver
    (som for eksempel å ta seg av en bevegelsesmetode).

## 7. Forbedringspunkter fra retrospektiv

    - Klarere retningslinjer for dokumentasjon av kode.
    - Jevne ut committs/merges (bli flinkere på å committe jevnlig under arbeid).
    - Oppdatere Kanban-brettet jevnlig (Trello).

# Krav og spesifikasjon

## Progresjon i forhold til MVP

    I forrige innlevering lagde vi en liste med krav for MVP'en til spillet vårt. Det vi har jobbet med fram til nå er å oppfylle alle disse kravene. Vi har greid å implementere alle aspektene som vi ville ha i MVP'en, og det er vi veldig fornøyde med. Vi har derimot ikke hatt fokus på perfekt implementasjon. Det vil si at vi har vært mest opptatt av å ha med en basic-variant av mange av kravene i MVP'en, og så kan vi heller komme tilbake og finpusse på ting senere i prosessen. Et eksempel på dette er funksjonalitet for det å flytte på spillerne. På dette tidspunktet er flytting litt for sensitivt, men det viktigste for oss har vært å implementere det raskt og heller finjustere det senere. Vi vil påsta at vi har oppnådd et produkt som kan kalles for MVC, men vi har heller ikke kommet noe særlig lenger enn det.

    Vi har hverken endret noen krav til MVP, eller endret på prioriteringsrekkefølgen.

## Prioriteringer til nå

    Frem til nå har vi prioritert enkle implementasjoner av de fleste features. I starten av prosjektet har vi syntes at det har vært litt vanskelig å jobbe på forskjellige ting samtidig fordi man ofte endrer samme filer, og dermed lett kan gå i beina på hverandre. Av denne grunnen har det vært viktig for oss å prioritere funskjonalitet som mange deler av spillet avhenger av. På denne måten kan vi raskere komme til det stadiet hvor det er enklere å jobbe på ulike oppgaver samtidig. Nå mener vi at vi er kommet betraktelig nærmere en tilstand hvor dette er mulig.

## Prioriterte oppgaver fremover

    - Testing blir en av de høyest prioriterte oppgavene fremover. Nå har vi veldig få tester, og vi sliter litt med å få de testene vi har til å fungere.
    - Bedre grafikk er noe vi må legge en del innsats i fremover. Til nå bruker vi bare "Obligator.png" som placeholder for spillerkarakterene. Fremover skal vi få inn både karakterer, og tilhørende animasjoner.
    - Legge til funksjonalitet for blokkering av slag og spark.

# Produkt og kode

## Utbedring av feil

    Ingen spesifike feil fra Oblig 1 som har blitt rettet til nå, dette fordi vi ikke hadde startet med kode fundamentet
    under skrivingen av Oblig 1. Det har derimot vært stor progressjon på kodeaspektet av prosjektet ila uke 9 og 10.

## README.md

    Readme.md er opp til dato for spesifkasjoner for å kjøre programmet.
    Vi har per nå problemer med å kjøre tester. Testene vil bare kjøre lokalt på Sune sin egen branch, disse
    testene er derfor kommentert ut (for nå) og prosessen av testing og testskriving er satt på vent inntil vi
    får fikset dette problemet. Programmet kompilerer og kjører på både mac os og Windows, ikke hatt mulighet
    til å teste dette på Linux, men pakke/fil struktur er sjekket for caseing mtp små/store bokstaver så spillet
    skal kompilere på Linux også.

## Klassediagram

    Klassediagram ligger her: [UML](/doc/hoytekken_uml.png)
    Vi har valgt å ta ut alle enums, for å gjøre det mer oversiktlig.

## Kode

    Prosjektet baserer seg på MVC (model-view-controller) struktur. Denne strukturen tok litt tid i starten å
    anvende på vårt prosjekt pga at denne strukturen ikke er så vanlig for LibGDX rammeverket. Etter å
    prøve litt forskjellige løsninger, har vi kommet frem til en løsning som vi er fornøyde med.

    - Controller klasse håndterer alt av Input.
    - View er en samling av Screen klasser, hver screen representerer en GameState. (Active, Main_menu, Gameover)
    - Modellen holder på alt av mekanikk og logikk i spillet. Denne kobles opp mot controller og Screeens
    med Viewable- og ControllableModelInterface som dikterer hvilke deler av prosjektet som skal ha tilgang til hvilke deler av modellen.
    - Hoytekken Game/ApplicationListener. Denne klassen limer knytter alle delene av prosjektet sammen og kjøres i main.

    - Testing. Som nevnt over, er prosessen av testing satt på vent. Dette er ikke idealt, og vi hadde ambisjoner
    om å få skrevet tester til alt av spillermekanikk til MVP, men dette blir nødt til å vente. Dette kan hende er fordi vi blir nødt til å mocke f.eks World og Player osv. med Mockito. Det optimale hadde selvfølgelig vært å få spillogikken til å kjøre uten libgdx, men dette kan bli vanskelig.
    - All av kode, klasser, interface, metoder, osv... er dokumentert med Javadoc. Det er potensiale til å rydde i
    koden på visse steder ved å bl.a sortere metoder etter bruksområder.
    - I første omgang har vi kode som fungerer (skjedd mye på en uke/halvannen), vi ser det er forbedringer på
    områder til å skrive finere løsninger.

## kjente feil

    - Bug med kontroller bevegelse. Kommer av samtidig input left/right, hvor direction blir satt tilbake til
    static. Fikses med en getter av direction og sjekke hvilken retning spiller beveger seg.
    - Tester vil ikke kjøre. 
    - Game Over skjerm kan bytte tilbake til Main menu, men restarter ikke faktisk spillet i form av å lage nye
    spillere. Fikses ved å legge til funksjonalitet for å restarte spillet.
    - Block fungerer ikke enda, må implementeres med en state for å holde en kontinuerlig block.
    - Hopping må kun tillates når man står på bakken. Nå kan man fly ved å hoppe i luften.
